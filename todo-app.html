<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="jquery-ui.min.css">
  <title>jQuery To Do List App</title>
</head>
<body>
  <div class="container">
    <h1>What should I do today?</h1>
    <form>
      <label for="item">Add a task:</label>
      <div class="task-form">
        <div class="text-date">
          <input type="text" id="item" placeholder="Task">
          <input type="date" id="date" placeholder="Schedule">
        </div>
        <textarea placeholder="Description" id="description" rows="4" cols="50"">
        </textarea>
        <div class="file-submit">
          <input type="file" id="file">
          <input type="submit" value="Add Item">
        </div>
      </div>

    </form>
    <ul>
      <!-- To do items get added here -->
    </ul>
    
  </div>
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  
  <script>
  $(document).ready(function () {

      //When user clicks submit or presses enter
      $('form').on('submit', function (e) {

        //Prevent default function of submit button
        e.preventDefault();

        //If the text input is not empty
        if (($('#item').val() !== '') && ($('#file').val() !== "")) {

          //Save the value in the text input
          let item = $('#item').val();
          let description = $('#description').val();
          let date = $('#date').val();
          let file = $('#file').val();

          //Add list item to HTML
          $('ul').append(`
          <li>
            <span class='remove'><a href='#'><i class='fa fa-times-circle'></i></a></span>
            <span class='check todo'></span>
            <div class="task-info">
              <div class="task-specifics">
                <p class='task'>${item}</p>
                <p class='date'>${date}</p>
              </div>
              <p class='description'>${description}</p>
              <i class="fa fa-paperclip" aria-hidden="true"></i> ${file}
            </div>
          </li>`);

          //Clear the form
          $('input[type=text]').val(''); 
          $('textarea').val(''); 
          $('input[type=date]').val(''); 
          $('input[type=file]').val(''); 

          //drag/drop sort items
          $("ul").sortable();
        };

        //If the text input is not empty
        if ($('#item').val() !== '') {

          //Save the value in the text input
          let item = $('#item').val();
          let description = $('#description').val();
          let date = $('#date').val();
          let file = $('#file').val();

          //Add list item to HTML
          $('ul').append(`
          <li>
            <span class='remove'><a href='#'><i class='fa fa-times-circle'></i></a></span>
            <span class='check todo'></span>
            <div class="task-info">
              <div class="task-specifics">
                <p class='task'>${item}</p>
                <p class='date'>${date}</p>
              </div>
              <p class='description'>${description}</p>
            </div>
          </li>`);

          //Clear the form
          $('input[type=text]').val(''); 
          $('textarea').val(''); 
          $('input[type=date]').val(''); 
          $('input[type=file]').val(''); 

          //drag/drop sort items
          $("ul").sortable();
        };
      });

      //When user clicks on a list item
      $('ul').on('click', 'li', function () {
        
        //Find the class of 'check' within the list item
        let checkBox = $(this).find('.check');

        //Toggle between an empty checkbox and a checked one
        checkBox.toggleClass("todo done");
        $(this).toggleClass("completed")
      });

      //When the remove button is clicked, remove the item
      $('ul').on('click', 'span', 'a', function () {

        const toDoListItem = $(this).parent();
        toDoListItem.remove();
      });
    });




</script>
</body>
</html>
